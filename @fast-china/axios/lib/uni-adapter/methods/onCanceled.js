"use strict";var e=Object.defineProperty,n=(n,i,s)=>((n,i,s)=>i in n?e(n,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[i]=s)(n,"symbol"!=typeof i?i+"":i,s);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const i=require("axios");exports.default=class{constructor(e){n(this,"config"),n(this,"onCanceled"),this.config=e}subscribe(e,n){(this.config.cancelToken||this.config.signal)&&(this.onCanceled=s=>{e&&(n(!s||s.type?new i.CanceledError(void 0,void 0,this.config,e):s),e.abort(),e=null)},this.config.cancelToken&&this.config.cancelToken.subscribe(this.onCanceled),this.config.signal&&this.config.signal.addEventListener&&(this.config.signal.aborted?this.onCanceled():this.config.signal.addEventListener("abort",this.onCanceled)))}unsubscribe(){this.config.cancelToken&&this.config.cancelToken.unsubscribe(this.onCanceled),this.config.signal&&this.config.signal.removeEventListener&&this.config.signal.removeEventListener("abort",this.onCanceled)}};
//# sourceMappingURL=onCanceled.js.map
