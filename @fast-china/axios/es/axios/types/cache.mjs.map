{"version":3,"file":"cache.mjs","sources":["../../../../../src/axios/types/cache.ts"],"sourcesContent":["type CacheGetHandle = (key: string) => any;\ntype CacheGetUseHandle = { use: (fn: CacheGetHandle) => void };\ntype CacheSetHandle = (key: string, value: any) => void;\ntype CacheSetUseHandle = { use: (fn: CacheSetHandle) => void };\n\nexport class CacheManage {\n\tprivate _handle: {\n\t\tget: CacheGetHandle;\n\t\tset: CacheSetHandle;\n\t};\n\n\t/** 获取 */\n\treadonly get: CacheGetHandle & CacheGetUseHandle;\n\t/** 设置 */\n\treadonly set: CacheSetHandle & CacheSetUseHandle;\n\n\tprivate _cacheRecord: Map<string, any> = new Map();\n\n\tconstructor() {\n\t\tthis._handle = {\n\t\t\tget: (key: string): void => {\n\t\t\t\tif (!this._cacheRecord.has(key)) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\treturn this._cacheRecord.get(key);\n\t\t\t},\n\t\t\tset: (key: string, value: any): void => {\n\t\t\t\tthis._cacheRecord.set(key, value);\n\t\t\t},\n\t\t};\n\n\t\tconst getProxy: CacheGetHandle & CacheGetUseHandle = (key: string): void => {\n\t\t\tthis._handle.get(key);\n\t\t};\n\t\tgetProxy.use = (fn: CacheGetHandle): void => {\n\t\t\tthis._handle.get = fn;\n\t\t};\n\t\tthis.get = getProxy;\n\n\t\tconst setProxy: CacheSetHandle & CacheSetUseHandle = (key: string, value: any): void => {\n\t\t\tthis._handle.set(key, value);\n\t\t};\n\t\tsetProxy.use = (fn: CacheSetHandle): void => {\n\t\t\tthis._handle.set = fn;\n\t\t};\n\t\tthis.set = setProxy;\n\t}\n}\n"],"names":[],"mappings":";;;AAKO,MAAM,YAAY;AAAA,EAaxB,cAAc;AAZN;AAMC;AAAA;AAEA;AAAA;AAED,4DAAqC,IAAI;AAGhD,SAAK,UAAU;AAAA,MACd,KAAK,CAAC,QAAsB;AAC3B,YAAI,CAAC,KAAK,aAAa,IAAI,GAAG,GAAG;AACzB,iBAAA;AAAA,QAAA;AAGD,eAAA,KAAK,aAAa,IAAI,GAAG;AAAA,MACjC;AAAA,MACA,KAAK,CAAC,KAAa,UAAqB;AAClC,aAAA,aAAa,IAAI,KAAK,KAAK;AAAA,MAAA;AAAA,IAElC;AAEM,UAAA,WAA+C,CAAC,QAAsB;AACtE,WAAA,QAAQ,IAAI,GAAG;AAAA,IACrB;AACS,aAAA,MAAM,CAAC,OAA6B;AAC5C,WAAK,QAAQ,MAAM;AAAA,IACpB;AACA,SAAK,MAAM;AAEL,UAAA,WAA+C,CAAC,KAAa,UAAqB;AAClF,WAAA,QAAQ,IAAI,KAAK,KAAK;AAAA,IAC5B;AACS,aAAA,MAAM,CAAC,OAA6B;AAC5C,WAAK,QAAQ,MAAM;AAAA,IACpB;AACA,SAAK,MAAM;AAAA,EAAA;AAEb;"}