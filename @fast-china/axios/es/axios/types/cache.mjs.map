{"version":3,"file":"cache.mjs","sources":["../../../../../src/axios/types/cache.ts"],"sourcesContent":["type CacheGetHandle = (key: string) => any;\ntype CacheGetUseHandle = { use: (fn: CacheGetHandle) => void };\ntype CacheSetHandle = (key: string, value: any) => void;\ntype CacheSetUseHandle = { use: (fn: CacheSetHandle) => void };\n\nexport class CacheManage {\n\tprivate _handle: {\n\t\tget: CacheGetHandle;\n\t\tset: CacheSetHandle;\n\t};\n\n\t/** 获取 */\n\treadonly get: CacheGetHandle & CacheGetUseHandle;\n\t/** 设置 */\n\treadonly set: CacheSetHandle & CacheSetUseHandle;\n\n\tprivate _cacheRecord: Map<string, any> = new Map();\n\n\tconstructor() {\n\t\tthis._handle = {\n\t\t\tget: (key: string): void => {\n\t\t\t\tif (!this._cacheRecord.has(key)) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\treturn this._cacheRecord.get(key);\n\t\t\t},\n\t\t\tset: (key: string, value: any): void => {\n\t\t\t\tthis._cacheRecord.set(key, value);\n\t\t\t},\n\t\t};\n\n\t\tconst getProxy: CacheGetHandle & CacheGetUseHandle = (key: string): void => {\n\t\t\tthis._handle.get(key);\n\t\t};\n\t\tgetProxy.use = (fn: CacheGetHandle): void => {\n\t\t\tthis._handle.get = fn;\n\t\t};\n\t\tthis.get = getProxy;\n\n\t\tconst setProxy: CacheSetHandle & CacheSetUseHandle = (key: string, value: any): void => {\n\t\t\tthis._handle.set(key, value);\n\t\t};\n\t\tsetProxy.use = (fn: CacheSetHandle): void => {\n\t\t\tthis._handle.set = fn;\n\t\t};\n\t\tthis.set = setProxy;\n\t}\n}\n"],"names":["CacheManage","_handle","get","set","_cacheRecord","Map","constructor","this","key","has","value","getProxy","use","fn","setProxy"],"mappings":"AAKO,MAAMA,EACJC,QAMCC,IAEAC,IAEDC,gCAAqCC,IAE7C,WAAAC,GACCC,KAAKN,QAAU,CACdC,IAAMM,GACAD,KAAKH,aAAaK,IAAID,GAIpBD,KAAKH,aAAaF,IAAIM,GAHrB,KAKTL,IAAK,CAACK,EAAaE,KAClBH,KAAKH,aAAaD,IAAIK,EAAKE,KAI7B,MAAMC,EAAgDH,IACrDD,KAAKN,QAAQC,IAAIM,IAElBG,EAASC,IAAOC,IACfN,KAAKN,QAAQC,IAAMW,GAEpBN,KAAKL,IAAMS,EAEX,MAAMG,EAA+C,CAACN,EAAaE,KAClEH,KAAKN,QAAQE,IAAIK,EAAKE,IAEvBI,EAASF,IAAOC,IACfN,KAAKN,QAAQE,IAAMU,GAEpBN,KAAKJ,IAAMW,CACZ"}