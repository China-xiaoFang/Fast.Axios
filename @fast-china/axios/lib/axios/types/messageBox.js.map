{"version":3,"file":"messageBox.js","sources":["../../../../../src/axios/types/messageBox.ts"],"sourcesContent":["type MessageBoxHandle = (options: {\n\t/** 消息 */\n\tmessage: string;\n\t/** 类型 */\n\ttype?: \"success\" | \"warning\" | \"info\" | \"error\";\n\t/** 取消按钮文字 */\n\tcancelButtonText?: string;\n\t/** 确认按钮文字 */\n\tconfirmButtonText?: string;\n}) => Promise<void>;\ntype MessageBoxUseHandle = { use: (fn: MessageBoxHandle) => void };\n\nexport class MessageBoxManage {\n\tprivate _handle: {\n\t\tconfirm: MessageBoxHandle;\n\t};\n\n\t/** 确认弹窗 */\n\treadonly confirm: MessageBoxHandle & MessageBoxUseHandle;\n\n\tconstructor() {\n\t\tthis._handle = {\n\t\t\tconfirm: (options): Promise<void> => {\n\t\t\t\tif (typeof uni !== \"undefined\") {\n\t\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: \"温馨提示\",\n\t\t\t\t\t\t\tcontent: options.message,\n\t\t\t\t\t\t\tcancelText: options.cancelButtonText,\n\t\t\t\t\t\t\tconfirmText: options.confirmButtonText,\n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treject();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: (res) => {\n\t\t\t\t\t\t\t\tres && console.error(res);\n\t\t\t\t\t\t\t\tthrow new Error(\"'uni.showModal' Api调用异常。\");\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\t\tif (typeof window.confirm === \"undefined\") {\n\t\t\t\t\t\t\tthrow new Error(\"'window.confirm' Api调用异常。\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// eslint-disable-next-line no-alert\n\t\t\t\t\t\tif (window.confirm(options.message)) {\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treject();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t};\n\n\t\tconst confirmProxy: MessageBoxHandle & MessageBoxUseHandle = (options): Promise<void> => {\n\t\t\treturn this._handle.confirm(options);\n\t\t};\n\t\tconfirmProxy.use = (fn: MessageBoxHandle): void => {\n\t\t\tthis._handle.confirm = fn;\n\t\t};\n\t\tthis.confirm = confirmProxy;\n\t}\n}\n"],"names":["_handle","confirm","constructor","this","options","uni","Promise","resolve","reject","showModal","title","content","message","cancelText","cancelButtonText","confirmText","confirmButtonText","success","res","fail","console","error","Error","window","confirmProxy","use","fn"],"mappings":"yGAYO,MACEA,QAKCC,QAET,WAAAC,GACCC,KAAKH,QAAU,CACdC,QAAUG,GACU,oBAARC,IACH,IAAIC,QAAQ,CAACC,EAASC,KAC5BH,IAAII,UAAU,CACbC,MAAO,OACPC,QAASP,EAAQQ,QACjBC,WAAYT,EAAQU,iBACpBC,YAAaX,EAAQY,kBACrBC,QAAUC,IACLA,EAAIjB,QACPM,IAEAC,KAGFW,KAAOD,IAEN,MADAA,GAAOE,QAAQC,MAAMH,GACf,IAAII,MAAM,iCAKZ,IAAIhB,QAAQ,CAACC,EAASC,KAC5B,QAA8B,IAAnBe,OAAOtB,QACjB,MAAM,IAAIqB,MAAM,6BAGbC,OAAOtB,QAAQG,EAAQQ,SAC1BL,IAEAC,OAOL,MAAMgB,EAAwDpB,GACtDD,KAAKH,QAAQC,QAAQG,GAE7BoB,EAAaC,IAAOC,IACnBvB,KAAKH,QAAQC,QAAUyB,GAExBvB,KAAKF,QAAUuB,CAChB"}