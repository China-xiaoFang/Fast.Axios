{"version":3,"file":"messageBox.mjs","sources":["../../../../../src/axios/types/messageBox.ts"],"sourcesContent":["type MessageBoxHandle = (options: {\n\t/** 消息 */\n\tmessage: string;\n\t/** 类型 */\n\ttype?: \"success\" | \"warning\" | \"info\" | \"error\";\n\t/** 取消按钮文字 */\n\tcancelButtonText?: string;\n\t/** 确认按钮文字 */\n\tconfirmButtonText?: string;\n}) => Promise<void>;\ntype MessageBoxUseHandle = { use: (fn: MessageBoxHandle) => void };\n\nexport class MessageBoxManage {\n\tprivate _handle: {\n\t\tconfirm: MessageBoxHandle;\n\t};\n\n\t/** 确认弹窗 */\n\treadonly confirm: MessageBoxHandle & MessageBoxUseHandle;\n\n\tconstructor() {\n\t\tthis._handle = {\n\t\t\tconfirm: (options): Promise<void> => {\n\t\t\t\tif (typeof uni !== \"undefined\") {\n\t\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: \"温馨提示\",\n\t\t\t\t\t\t\tcontent: options.message,\n\t\t\t\t\t\t\tcancelText: options.cancelButtonText,\n\t\t\t\t\t\t\tconfirmText: options.confirmButtonText,\n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treject();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: (res) => {\n\t\t\t\t\t\t\t\tres && console.error(res);\n\t\t\t\t\t\t\t\tthrow new Error(\"'uni.showModal' Api调用异常。\");\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\t\tif (typeof window.confirm === \"undefined\") {\n\t\t\t\t\t\t\tthrow new Error(\"'window.confirm' Api调用异常。\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// eslint-disable-next-line no-alert\n\t\t\t\t\t\tif (window.confirm(options.message)) {\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treject();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t};\n\n\t\tconst confirmProxy: MessageBoxHandle & MessageBoxUseHandle = (options): Promise<void> => {\n\t\t\treturn this._handle.confirm(options);\n\t\t};\n\t\tconfirmProxy.use = (fn: MessageBoxHandle): void => {\n\t\t\tthis._handle.confirm = fn;\n\t\t};\n\t\tthis.confirm = confirmProxy;\n\t}\n}\n"],"names":[],"mappings":";;;AAYO,MAAM,iBAAiB;AAAA,EAQ7B,cAAc;AAPN;AAKC;AAAA;AAGR,SAAK,UAAU;AAAA,MACd,SAAS,CAAC,YAA2B;AAChC,YAAA,OAAO,QAAQ,aAAa;AAC/B,iBAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACvC,gBAAI,UAAU;AAAA,cACb,OAAO;AAAA,cACP,SAAS,QAAQ;AAAA,cACjB,YAAY,QAAQ;AAAA,cACpB,aAAa,QAAQ;AAAA,cACrB,SAAS,CAAC,QAAQ;AACjB,oBAAI,IAAI,SAAS;AACR,0BAAA;AAAA,gBAAA,OACF;AACC,yBAAA;AAAA,gBAAA;AAAA,cAET;AAAA,cACA,MAAM,CAAC,QAAQ;AACP,uBAAA,QAAQ,MAAM,GAAG;AAClB,sBAAA,IAAI,MAAM,0BAA0B;AAAA,cAAA;AAAA,YAC3C,CACA;AAAA,UAAA,CACD;AAAA,QAAA,OACK;AACN,iBAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACnC,gBAAA,OAAO,OAAO,YAAY,aAAa;AACpC,oBAAA,IAAI,MAAM,2BAA2B;AAAA,YAAA;AAG5C,gBAAI,OAAO,QAAQ,QAAQ,OAAO,GAAG;AAC5B,sBAAA;AAAA,YAAA,OACF;AACC,qBAAA;AAAA,YAAA;AAAA,UACR,CACA;AAAA,QAAA;AAAA,MACF;AAAA,IAEF;AAEM,UAAA,eAAuD,CAAC,YAA2B;AACjF,aAAA,KAAK,QAAQ,QAAQ,OAAO;AAAA,IACpC;AACa,iBAAA,MAAM,CAAC,OAA+B;AAClD,WAAK,QAAQ,UAAU;AAAA,IACxB;AACA,SAAK,UAAU;AAAA,EAAA;AAEjB;"}