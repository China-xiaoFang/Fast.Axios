import{AxiosHeaders as e}from"axios";import o from"../../node_modules/.pnpm/axios@1.13.2/node_modules/axios/lib/core/buildFullPath.mjs";import t from"../../node_modules/.pnpm/axios@1.13.2/node_modules/axios/lib/helpers/buildURL.mjs";import a from"../../node_modules/.pnpm/axios@1.13.2/node_modules/axios/lib/helpers/speedometer.mjs";const r=e=>{const{method:o="GET"}=e;switch(o.toLocaleLowerCase()){case"download":return"download";case"upload":return"upload";default:return"request"}},s=a=>{const r=a.data,s="arraybuffer"===a.responseType?"arraybuffer":"text",d="text"===s?"json":void 0,{headers:n,baseURL:m,...i}=a,l=e.from(n).normalize(!1);if(a.auth){const e=a.auth.username||"",o=a.auth.password?decodeURIComponent(encodeURIComponent(a.auth.password)):"";l.set("Authorization",`Basic ${btoa(`${e}:${o}`)}`)}const p=o(m,a.url),u=a?.method?.toUpperCase()??"GET",c=t(p,a.params,a.paramsSerializer),h=a.timeout||6e4;let f={};if(r&&"string"==typeof r)try{f=JSON.parse(r)}catch{}return{...i,url:c,data:r,header:l.toJSON(),method:u,responseType:s,dataType:d,timeout:h,formData:f}},d=(e,o)=>{let t=0;const r=a(50,250);return a=>{const s=a.totalBytesWritten,d=a.totalBytesExpectedToWrite,n=s-t,m=r(n);t=s;const i={loaded:s,total:d,progress:d?s/d:void 0,bytes:n,rate:m||void 0,estimated:m&&d&&s<=d?(d-s)/m:void 0,event:a,lengthComputable:!0};i[o?"download":"upload"]=!0,e(i)}};export{r as getMethodType,d as progressEventReducer,s as resolveUniAppRequestOptions};
//# sourceMappingURL=index.mjs.map
